(this["webpackJsonpclientside-app"]=this["webpackJsonpclientside-app"]||[]).push([[0],{13:function(t,e,a){t.exports=a(20)},18:function(t,e,a){},20:function(t,e,a){"use strict";a.r(e);var n=a(2),l=a(3),o=a(5),s=a(4),r=a(6),c=a(0),u=a.n(c),i=a(10),h=a.n(i),m=(a(18),a(1)),p=a(7),d=a(11),f=a(12),b=a(8),v=a.n(b),y=function(t){var e=t.handleChange,a=t.handleSubmit,n=t.post;return u.a.createElement("form",{onSubmit:a},u.a.createElement("label",null,"Stock name:",u.a.createElement("input",{name:"name",type:"text",value:n.name,onChange:e})),u.a.createElement("label",null,"Stock quantity:",u.a.createElement("input",{name:"quantity",type:"number",value:n.quanitity,onChange:e})),u.a.createElement("label",null,"Stock purchase date:",u.a.createElement("input",{name:"purchasedate",type:"text",value:n.purchasedate,onChange:e})),u.a.createElement("input",{type:"submit",value:"Add Stock"}))},E="Tpk_bb33d8b9dfec4e11b6ec94cff09d5685",k=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).state={rows:a.props.rows,stocks:[],oldStocks:[],apifetched1:!1,apifetched2:!1,currentValue2:"",convert:1,dollar:!1,currency:"Dollar",allValue:0},a.apiFetch=a.apiFetch.bind(Object(m.a)(a)),a.refresh=a.refresh.bind(Object(m.a)(a)),a.currencySelect=a.currencySelect.bind(Object(m.a)(a)),a.totalPortfolioValue=a.totalPortfolioValue.bind(Object(m.a)(a)),a}return Object(r.a)(e,t),Object(l.a)(e,[{key:"addRows",value:function(){if(this.state.apifetched1&&this.state.apifetched1){var t=(this.props.post.quantity*this.state.stocks.latestPrice*this.state.convert).toFixed(2);if("undefined"!==typeof this.state.oldStocks)var e={name:this.state.stocks.symbol,value:(this.state.stocks.latestPrice*this.state.convert).toFixed(2),quantity:this.props.post.quantity,totalPortfolioValue:t,purchaseValue:this.state.oldStocks.close};else e={name:this.state.stocks.symbol,value:this.state.stocks.latestPrice,quantity:this.props.post.quantity,totalPortfolioValue:t,purchaseValue:"0"};this.setState({rows:this.state.rows.concat(e)})}}},{key:"rows",value:function(){var t=this;return this.state.rows.map((function(e,a){return u.a.createElement("tr",{key:a},u.a.createElement("td",null,e.name),u.a.createElement("td",null,e.value),u.a.createElement("td",null,e.quantity),u.a.createElement("td",null,(e.quantity*e.value).toFixed(2)),u.a.createElement("td",null,e.purchaseValue),u.a.createElement("td",null,u.a.createElement("button",{onClick:function(){t.removeRow({i:a})}},"Remove Row")))}))}},{key:"apiFetch",value:function(){var t=this;fetch("https://sandbox.iexapis.com/beta/stock/"+this.props.post.name+"/quote/?token="+E+"&period=annual").then((function(t){return t.json()})).then((function(e){t.setState({stocks:e},(function(){t.setState({apifetched1:!0})}))})).catch(console.log),fetch("https://sandbox.iexapis.com/stable/stock/"+this.props.post.name+"/chart/date/"+this.props.post.purchasedate+"?chartByDay=true&token="+E+"&period=annual").then((function(t){return t.json()})).then((function(e){t.setState({oldStocks:e[0]},(function(){t.setState({apifetched2:!0}),t.addRows()}))})).catch(console.log)}},{key:"refresh",value:function(){var t,e=this;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:this.setState({allValue:0}),t=0;case 2:if(!(t<this.state.rows.length)){a.next=8;break}return a.next=5,v.a.awrap(fetch("https://sandbox.iexapis.com/beta/stock/"+this.state.rows[t].name+"/quote/?token="+E+"&period=annual").then((function(t){return t.json()})).then((function(a){e.setState({currentValue2:a},(function(){e.state.rows[t].value=(e.state.currentValue2.latestPrice*e.state.convert).toFixed(2),e.state.rows[t].totalValue=(e.state.currentValue2.latestPrice*e.state.rows[t].quantity*e.state.convert).toFixed(2),e.totalPortfolioValue()}))})).catch(console.log));case 5:t++,a.next=2;break;case 8:case"end":return a.stop()}}),null,this)}},{key:"currencySelect",value:function(){var t=this;this.state.dollar?this.setState({convert:1,dollar:!1,currency:"Dollar"},(function(){t.refresh()})):this.setState({convert:.89,dollar:!0,currency:"Euro"},(function(){t.refresh()}))}},{key:"removeRow",value:function(t){var e=Object(f.a)(this.state.rows);e.splice(t.i,1),this.setState({rows:e})}},{key:"totalPortfolioValue",value:function(){var t,e=this;return this.setState({allValue:0}),this.state.rows.map((function(a,n){"number"===typeof(t=parseFloat(a.totalValue))&&e.setState({allValue:e.state.allValue+t})}))}},{key:"render",value:function(){return this.props.buttonPressed?u.a.createElement("div",{className:"stock-table"},this.apiFetch(),u.a.createElement("table",null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Name"),u.a.createElement("th",null,"Value"),u.a.createElement("th",null,"Quantity"),u.a.createElement("th",null,"Total Value"),u.a.createElement("th",null,"Purchase Value"),u.a.createElement("th",null,"Number"))),u.a.createElement("tbody",null,this.rows()))):u.a.createElement("div",{className:"stock-table"},u.a.createElement("button",{onClick:this.refresh},"Refresh"),u.a.createElement("button",{onClick:this.currencySelect},"Switch currency"),u.a.createElement("table",null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Name"),u.a.createElement("th",null,"Value"),u.a.createElement("th",null,"Quantity"),u.a.createElement("th",null,"Total Value"),u.a.createElement("th",null,"Purchase Value"),u.a.createElement("th",null,"Number"))),u.a.createElement("tbody",null,this.rows())),u.a.createElement("h3",null,"Currency:",this.state.currency),u.a.createElement("h3",null,"Total Value of all stocks: ",this.state.allValue.toFixed(2)))}}]),e}(u.a.Component),S=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).handleChange=function(t){var e=t.target,n=e.name,l=e.value;a.setState((function(t){return{post:Object(d.a)({},t.post,Object(p.a)({},n,l))}}))},a.state={post:{name:"",quantity:null,purchasedate:""},rows:[],buttonPressed:!1},a.handleInputChange=a.handleChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(r.a)(e,t),Object(l.a)(e,[{key:"handleSubmit",value:function(t){t.preventDefault(),this.setState({buttonPressed:!0})}},{key:"buttonreset",value:function(){this.state.buttonPressed&&this.setState({buttonPressed:!1})}},{key:"render",value:function(){return u.a.createElement("div",{className:"App"},u.a.createElement(y,{handleChange:this.handleChange,post:this.state.post,handleSubmit:this.handleSubmit}),u.a.createElement(k,{post:this.state.post,quantity:this.state.post.quantity,oldStocks:this.state.oldStocks,rows:this.state.rows,buttonPressed:this.state.buttonPressed}),this.buttonreset())}}]),e}(u.a.Component),j=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).state={portfolioName:a.props.portfolioName,deleted:!1},a.RemovePortfolio=a.RemovePortfolio.bind(Object(m.a)(a)),a}return Object(r.a)(e,t),Object(l.a)(e,[{key:"RemovePortfolio",value:function(){this.setState({deleted:!0})}},{key:"render",value:function(){return this.state.deleted?null:u.a.createElement("div",{className:"portfolio col-6 col-s-12"},u.a.createElement("h1",null,this.state.portfolioName),u.a.createElement(S,null),u.a.createElement("button",{onClick:this.RemovePortfolio},"Remove!"))}}]),e}(u.a.Component),O=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).state={value:"",portfolios:[],showComponent:!1},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a}return Object(r.a)(e,t),Object(l.a)(e,[{key:"handleChange",value:function(t){this.setState({value:t.target.value})}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.setState({portfolios:this.state.portfolios.concat(u.a.createElement(j,{portfolioName:this.state.value}))})}},{key:"render",value:function(){var t=this;return u.a.createElement("div",{className:"Col-12"},u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange,placeholder:"Enter portfolio title"}),u.a.createElement("input",{type:"submit",value:"Add New Portfolio"})),this.state.portfolios.map((function(e,a){return u.a.createElement(j,{key:a,portfolioName:t.state.value})})))}}]),e}(u.a.Component),w=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(r.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return u.a.createElement("div",{className:"App"},u.a.createElement(O,null))}}]),e}(u.a.Component);e.default=w;h.a.render(u.a.createElement(w,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.eb7cbf8e.chunk.js.map